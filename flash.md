# 刷机

## 准备工作

* 一台电脑   
* 一个adb   
* 一个`TWRP包`

  请自行查找对应的TWRP包

  \(或者自己做一个\)

  \(我反正不会自己做所以是直接找的\)

* 一个刷机工具

  \(这里使用的是`Miflash`\)

* 一个`Magisk`安装包
* 一个`系统包`

## 目标：获取root权限

这个目标可以分两步走 第一步刷入`TWRP` 第二步刷入`magisk`

### 刷入TWRP

1. 进入开发者模式，并开启`Usb调试`   
2. 启用`OEM解锁`   
3. 使用`adb工具`进入9008模式   

   在`adb_cmd.exe`输入`adb reboot edl`   

   并确认已经进入了9008模式

4. 通过`Miflash`刷入`TWRP-recovery`
5. 当提示已成功刷入`TWRP-recovery`   

   拔掉数据线，重启到`recovery`   

   这时可以先调整一下各种设置   

   比如说语言时间底部导航栏什么的   

这时候第一步完成  
可能你会发现twrp会自己乱点  
没错我也出现了这个情况  
自己克服一下  
系统是正常的  
然后开始第二步

### 刷入Magisk

1. 通过`recovery`重启至系统
2. 解压出`系统包`里的`boot.img`并传入手机内
3. 安装并打开`Magisk`

   `打开以后`点击`Magisk`旁边的安装

   点击`选项`旁边的`下一步`

   点击`选择并修补一个文件`

   选中传入手机内的`boot.img`

   点击`开始`

   等待出现`All done!`

4. 记住这里输出的路径，后面会用到

   `**********`

   `Output file is written to`

   `/storage/emulated/0/Download/magisk_#############.img`

   `**********`

   建议先截图

5. 通过文件管理器打开并`确认文件所在位置`

   \(防止进`TWRP`的时候不自信\)

6. 以你自己的方式进入`recovery`模式\(TWRP\)

   一般是`电源+音量加`

7. 点击`安装`

   点击`存储位置`-`内置存储`

   点击`Download`文件夹

   `//这时候你可能会发现...`

   `//这里怎么是空的?`

   点击`刷入镜像`直到出现`安装刷机包`

   `这时候你就可以看见上面让你确认的文件了`

8. 点击之前提示的`magisk_#############.img`

   选择`Boot`分区

   **这里不能选错,如果选错就变砖**

   确认完毕后

   `滑动按钮`确认刷入

9. 点击`重启系统`

## 目标完成

到此目标完成，使用`Magisk`管理你的权限吧

